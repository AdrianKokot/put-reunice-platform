<div>
  <header class="tui-text_h6 tui-text_bold">
    <a tuiLink routerLink="/"> Reunice </a>
  </header>

  <ng-content select="[left]"></ng-content>
</div>

<div>
  <ng-content></ng-content>
</div>

<div class="justify-self-end d-flex align-center">
  <ng-content select="[right]"></ng-content>

  <a
    *reuniceUser="'GUEST'; else loggedMenu"
    tuiIconButton
    routerLink="/auth/login"
    [icon]="'tuiIconUser'"
  ></a>

  <ng-template #loggedMenu let-user="user">
    <tui-hosted-dropdown [content]="profileMenu" #profileMenuDropdown>
      <button
        type="button"
        size="s"
        tuiIconButton
        [pseudoHover]="profileMenuDropdown.open || null"
      >
        <tui-avatar
          text="{{ user.firstName }} {{ user.lastName }}"
        ></tui-avatar>
      </button>
    </tui-hosted-dropdown>
    <ng-template #profileMenu let-close="close">
      <tui-data-list role="menu" size="s">
        <a href="/admin" tuiOption role="menuitem" (click)="close()">
          Admin console
        </a>
        <a
          routerLink="/accounts/profile"
          tuiOption
          role="menuitem"
          (click)="close()"
        >
          Profile
        </a>
        <a
          routerLink="/auth/logout"
          tuiOption
          role="menuitem"
          (click)="close()"
        >
          Logout
        </a>
      </tui-data-list>
    </ng-template>
  </ng-template>
</div>
